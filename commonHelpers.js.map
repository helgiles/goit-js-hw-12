{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst BASE_URL = 'https://pixabay.com/api/';\n\nconst form = document.querySelector('.search-form');\nconst input = document.querySelector('[type=\"text\"]');\nconst loader = document.querySelector('.loader');\nconst gallery = document.querySelector('.gallery');\nconst loadMoreBtn = document.querySelector('.load-more-button');\n\nvar lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n  captionDelay: 250,\n});\n\nlet page = 1;\nlet per_page = 40;\n\nfunction loaderToggle(loader) {\n  loader.classList.toggle('loader-is-active');\n}\n\nasync function getImages() {\n  const query = input.value.trim();\n  const searchParams = new URLSearchParams({\n    key: '41579263-ea77ea2d4a90e42f3f0b59371',\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n\n  await axios\n    .get(`${BASE_URL}?${searchParams}`)\n    .then(response => {\n      loaderToggle(loader);\n      gallery.innerHTML = '';\n      input.value = '';\n      const hits = response.data.hits;\n\n      if (hits.length === 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n          backgroundColor: '#EF4040',\n        });\n        return;\n      }\n\n      renderImages(hits);\n      lightbox.refresh();\n      page = 1;\n    })\n    .catch(error => console.log(error));\n}\n\nfunction renderImages(image) {\n  return (gallery.innerHTML = image.reduce(\n    (html, images) =>\n      html +\n      `<li class='gallery-item'>\n    <a class='gallery-link' href='${images.largeImageURL}'>\n      <img\n        class='gallery-image'\n        src='${images.webformatURL}'\n        alt='${images.tags}'\n      />\n    </a>\n    <div class=\"image-info\">\n          <div class=\"info-item\">\n            <span class=\"info-name\">Likes</span>\n            <span class=\"info-value\">${images.likes}</span>\n          </div>\n          <div class=\"info-item\">\n            <span class=\"info-name\">Views</span>\n            <span class=\"info-value\">${images.views}</span>\n          </div>\n          <div class=\"info-item\">\n            <span class=\"info-name\">Comments</span>\n            <span class=\"info-value\">${images.comments}</span>\n          </div>\n          <div class=\"info-item\">\n            <span class=\"info-name\">Downloads</span>\n            <span class=\"info-value\">${images.downloads}</span>\n          </div>\n        </div>\n  </li>`,\n    ''\n  ));\n}\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  loaderToggle(loader);\n  getImages();\n});\n\n// loadMoreBtn.addEventListener('submit', event => {\n//   event.preventDefault();\n//   loaderToggle(loader);\n//   getImages();\n// });\n"],"names":["BASE_URL","form","input","loader","gallery","lightbox","SimpleLightbox","loaderToggle","getImages","query","searchParams","axios","response","hits","iziToast","renderImages","error","image","html","images","event"],"mappings":"owBAMA,MAAMA,EAAW,2BAEXC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAQ,SAAS,cAAc,eAAe,EAC9CC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAU,SAAS,cAAc,UAAU,EAC7B,SAAS,cAAc,mBAAmB,EAE9D,IAAIC,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,gBAAiB,SACjB,aAAc,GAChB,CAAC,EAKD,SAASC,EAAaJ,EAAQ,CAC5BA,EAAO,UAAU,OAAO,kBAAkB,CAC5C,CAEA,eAAeK,GAAY,CACzB,MAAMC,EAAQP,EAAM,MAAM,KAAI,EACxBQ,EAAe,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EAED,MAAME,EACH,IAAI,GAAGX,KAAYU,GAAc,EACjC,KAAKE,GAAY,CAChBL,EAAaJ,CAAM,EACnBC,EAAQ,UAAY,GACpBF,EAAM,MAAQ,GACd,MAAMW,EAAOD,EAAS,KAAK,KAE3B,GAAIC,EAAK,SAAW,EAAG,CACrBC,EAAS,MAAM,CACb,QACE,2EACF,SAAU,WACV,gBAAiB,SAC3B,CAAS,EACD,MACD,CAEDC,EAAaF,CAAI,EACjBR,EAAS,QAAO,CAEtB,CAAK,EACA,MAAMW,GAAS,QAAQ,IAAIA,CAAK,CAAC,CACtC,CAEA,SAASD,EAAaE,EAAO,CAC3B,OAAQb,EAAQ,UAAYa,EAAM,OAChC,CAACC,EAAMC,IACLD,EACA;AAAA,oCAC8BC,EAAO;AAAA;AAAA;AAAA,eAG5BA,EAAO;AAAA,eACPA,EAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCAMiBA,EAAO;AAAA;AAAA;AAAA;AAAA,uCAIPA,EAAO;AAAA;AAAA;AAAA;AAAA,uCAIPA,EAAO;AAAA;AAAA;AAAA;AAAA,uCAIPA,EAAO;AAAA;AAAA;AAAA,SAI1C,EACJ,CACA,CAEAlB,EAAK,iBAAiB,SAAUmB,GAAS,CACvCA,EAAM,eAAc,EACpBb,EAAaJ,CAAM,EACnBK,GACF,CAAC"}